!function(e){var r={};function t(n){if(r[n])return r[n].exports;var u=r[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,t),u.l=!0,u.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var u in e)t.d(n,u,function(r){return e[r]}.bind(null,u));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="dist",t(t.s=7)}([function(e,r){e.exports=require("graphql")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={users:[]},u={users:0};r.clear=function(){Object.keys(n).forEach(function(e){n[e]=[],u[e]=0})},r.add=function(e,r){e&&r&&n[e]&&(n[e]=[].concat(function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(n[e]),[r]))},r.removeById=function(e,r){e&&void 0!==r&&n[e]&&(n[e]=n[e].filter(function(e){return e.id!==r}))},r.getIdForTable=function(e){return u[e]+=1,u[e]};r.default=n},function(e,r){e.exports=require("config")},function(e,r){e.exports=require("express")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CreateUserInputType=r.UserType=void 0;var n=t(0),u=t(5),i=r.UserType=new n.GraphQLObjectType({name:"User",description:"Single user item",fields:{id:{type:u.RecordID},name:{type:n.GraphQLString},email:{type:n.GraphQLString},username:{type:new n.GraphQLNonNull(n.GraphQLString)}}});r.CreateUserInputType=new n.GraphQLInputObjectType({name:"CreateUserInputType",description:"Input needed to create an User record",fields:{username:{type:new n.GraphQLNonNull(n.GraphQLString)},name:{type:new n.GraphQLNonNull(n.GraphQLString)},email:{type:new n.GraphQLNonNull(n.GraphQLString)},password:{type:new n.GraphQLNonNull(n.GraphQLString)},passwordConfirm:{type:new n.GraphQLNonNull(n.GraphQLString)}}});r.default=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RecordID=r.UInt=r.SliceArgsType=void 0;var n=t(0),u=(r.SliceArgsType=new n.GraphQLInputObjectType({name:"SliceArgs",description:"Slice arguments",fields:{limit:{type:n.GraphQLInt,defaultValue:25},offset:{type:n.GraphQLInt,defaultValue:0}}}),r.UInt=new n.GraphQLScalarType({name:"UInt",serialize:function(e){return e&&e>=0?e:null},parseValue:function(e){return e&&e>=0?e:null},parseLiteral:function(e){return e.kind===n.Kind.INT&&parseInt(e.value,10)>=0||null}}));r.RecordID=new n.GraphQLNonNull(u)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.generateUserBase=r.generateUser=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=function(e){return e&&e.__esModule?e:{default:e}}(t(20)),i=t(1);var a=r.generateUser=function(e){return n({name:u.default.name.findName(),email:u.default.internet.email(),username:u.default.internet.userName()},e,{id:(0,i.getIdForTable)("users")})};r.generateUserBase=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=[],t=1;t<=e;t+=1)r.push(a());return r}},function(e,r,t){"use strict";t(8),(0,function(e){return e&&e.__esModule?e:{default:e}}(t(9)).default)()},function(e,r){e.exports=require("babel-polyfill")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=f(t(2)),u=f(t(3)),i=f(t(10)),a=f(t(11)),o=f(t(13)),s=f(t(21)),l=f(t(23));function f(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.default)(),d=(0,a.default)("server");c.use(i.default.json()),c.use(u.default.static("./")),o.default.applyMiddleware({app:c}),c.use(s.default),c.get("/health-check",function(e,r){return r.json({healthy:!0})}),r.default=function(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){return function n(u,i){try{var a=r[u](i),o=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,l.default)(),r=n.default.get("server.port"),c.listen(r,function(){d.info("Server initialized on port: "+r),d.info("GQL running at: "+o.default.graphqlPath)});case 3:case"end":return e.stop()}},e,void 0)}))},function(e,r){e.exports=require("body-parser")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(12),u=n.format.combine,i=n.format.timestamp,a=n.format.label,o=(0,n.format.printf)(function(e){return e.timestamp+" ["+e.label+"] "+e.level+": "+e.message});r.default=function(e){return(0,n.createLogger)({format:u(a({label:e}),i(),o),transports:[new n.transports.Console]})}},function(e,r){e.exports=require("winston")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(14),u=t(0),i=o(t(15)),a=o(t(18));function o(e){return e&&e.__esModule?e:{default:e}}var s=new u.GraphQLSchema({query:i.default,mutation:a.default});r.default=new n.ApolloServer({schema:s,playground:{settings:{"editor.cursorShape":"line"}}})},function(e,r){e.exports=require("apollo-server-express")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),u=t(16),i=new n.GraphQLObjectType({name:"Query",fields:{user:u.SingleUserQuery,users:u.ListUserQuery}});r.default=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ListUserQuery=r.SingleUserQuery=void 0;var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=t(0),i=t(4),a=function(e){return e&&e.__esModule?e:{default:e}}(t(1)),o=t(17);r.SingleUserQuery={name:"User",type:i.UserType,args:{id:{description:"ID of the user to look for",type:new u.GraphQLNonNull(u.GraphQLInt)}},resolve:function(e,r){var t=r.id;return a.default.users.find(function(e){return e.id===t})}},r.ListUserQuery={name:"Users",type:new u.GraphQLList(i.UserType),args:n({},(0,o.getSliceArgs)()),resolve:function(e,r){var t=r.slice,n=void 0===t?{}:t;return(0,o.getSlicedList)(a.default.users,n)}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSlicedList=r.getSliceArgs=void 0;var n=t(5);function u(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}r.getSliceArgs=function(){return{slice:{description:"Slice arguments for lists",type:n.SliceArgsType}}},r.getSlicedList=function(e,r){if(!r)return[].concat(u(e));var t=r.offset,n=void 0===t?0:t,i=r.limit,a=void 0===i?25:i,o=[].concat(u(e));return n&&(o=o.slice(n)),a&&(o=o.slice(0,a)),o}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),u=t(19),i=new n.GraphQLObjectType({name:"Mutation",fields:{createUser:u.CreateUserMutation}});r.default=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CreateUserMutation=void 0;var n=t(4),u=t(1),i=function(e){return e&&e.__esModule?e:{default:e}}(u),a=t(6);r.CreateUserMutation={name:"CreateUser",type:n.UserType,args:{input:{type:n.CreateUserInputType}},resolve:function(e,r){var t=r.input;if(i.default.users.some(function(e){return e.username===t.username}))throw new Error("username is already taken");if(i.default.users.some(function(e){return e.email===t.email}))throw new Error("email is already taken");if(t.password!==t.passwordConfirm)throw new Error("passwords do not match");var n=(0,a.generateUser)(t);return(0,u.add)("users",n),n}}},function(e,r){e.exports=require("faker")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t(3)),u=t(22);var i=n.default.Router();i.get("*",function(e,r){r.send('\n    <!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <meta http-equiv="X-UA-Compatible" content="ie=edge">\n        <title>React Reddit</title>\n        <script type="text/javascript">\n          window.__CONFIG__ = '+JSON.stringify((0,u.frontEndConfig)())+'\n        <\/script>\n    </head>\n    <body>\n        <div id="app"></div>\n        <script type="text/javascript" src="dist/reddit.bundle.js"><\/script>\n    </body>\n    </html>\n  ')}),r.default=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.frontEndConfig=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(t(2));r.frontEndConfig=function(){var e=n.default.get("baseUrl");return{baseUrl:e,graphqlEndpoint:e+"graphql"}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(6),u=function(e){return e&&e.__esModule?e:{default:e}}(t(1));r.default=function(){u.default.users=(0,n.generateUserBase)()}}]);
//# sourceMappingURL=server.bundle.js.map